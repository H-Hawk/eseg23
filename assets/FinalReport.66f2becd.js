import{ar as S,j as m,c as i,S as r,U as l,aB as g,F as x,r as k,f as a,V as d,aC as w,_ as $,Z as B,X as C,W as Q}from"./index.f4d69efd.js";import{Q as R,a as V}from"./QCard.1cb44065.js";import{Q as j}from"./QSelect.2bfc263e.js";import{u as F}from"./vue-i18n.runtime.esm-bundler.0eed9e53.js";import"./use-dark.ad0b3c4d.js";import"./use-key-composition.83756727.js";import"./position-engine.dec26382.js";const q=S("score",()=>{const s=[];function n(t,e){s[t]=e}function o(){return s.reduce((t,e)=>t+e,0)}return{update_selection:n,total:o}}),L=["innerHTML"],v=m({__name:"BreakableSpan",props:{text:{type:String,required:!0}},setup(s){const n=s,o=i(()=>n.text.split(" ").filter(t=>t.length>0).map(t=>t+"&nbsp;"));return(t,e)=>(r(!0),l(x,null,g(o.value,(c,u)=>(r(),l("span",{key:u,innerHTML:c,class:"q-my-sm"},null,8,L))),128))}}),N=d("span",null," \xA0 ",-1),H=m({__name:"ReportQuestion",props:{index:{type:Number,required:!0},question:{required:!0}},setup(s){const n=s,{rt:o}=F(),t=q(),e=i(()=>n.question),c=i(()=>o(e.value.text).split("/$$")[0]),u=i(()=>o(e.value.text).split("/$$")[1]),p=i(()=>e.value.options.map(f=>({label:o(f.label),score:f.score}))),_=k({label:"",score:0});function b(){t.update_selection(n.index,_.value.score)}return(f,h)=>(r(),l(x,null,[a(v,{text:c.value},null,8,["text"]),a(j,{modelValue:_.value,"onUpdate:modelValue":[h[0]||(h[0]=y=>_.value=y),b],options:p.value,"transition-show":"jump-up","transition-hide":"jump-up",outlined:"",dense:"","options-dense":"",color:"accent"},null,8,["modelValue","options"]),N,a(v,{text:u.value},null,8,["text"])],64))}}),M={class:"row wrap justify-start items-center"},T={class:"row justify-end"},U="general.finalReport.",A=m({__name:"ReportComponent",setup(s){const n=w(),o=q();function t(){const e=o.total();n.push(`/ending/${e}`)}return(e,c)=>(r(),l("div",null,[a(R,null,{default:$(()=>[a(V,null,{default:$(()=>[d("div",M,[(r(!0),l(x,null,g(e.$tm("ending.questions"),(u,p)=>(r(),B(H,{key:p,index:p,question:u},null,8,["index","question"]))),128))]),d("div",T,[a(C,{label:e.$t(U+"submit"),color:"accent",onClick:t},null,8,["label"])])]),_:1})]),_:1})]))}}),D={class:"text-center",style:{padding:"0 16px",margin:"0 auto","max-width":"800px"}},E={class:"q-mt-lg q-mb-sm text-center"},I="general.finalReport.",K=m({__name:"FinalReport",setup(s){return(n,o)=>(r(),l("div",D,[d("h4",E,Q(n.$t(I+"title")),1),a(A)]))}});export{K as default};
